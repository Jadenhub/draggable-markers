{"version":3,"sources":["components/map.png","components/marker.png","components/layout.js","index.js"],"names":["module","exports","Layout","props","handleImgClick","e","markers","state","slice","push","key","length","toString","coordinate","nativeEvent","offsetY","markerSize","height","offsetX","width","setState","isDragging","handleDragStart","preventDefault","target","getAttribute","clientpos","x","clientX","y","clientY","handleDrag","targetKey","idx","findIndex","item","range","maxY","maxX","handleDragEnd","handleImgLoad","img","offsetHeight","minY","offsetWidth","minX","pins","this","map","marker","className","style","top","left","cursor","onMouseDown","onMouseUp","alt","value","src","icon","onMouseMove","onClick","onLoad","href","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7b107c43.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map.82481805.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAbdJREFUeNq0V91tgzAQhiwAUgeA1z6FTlA6QegG7nul0glKJmgqdQCyAd2ATlDy1NdkgEplAvqd5AeE8J2N6UknJ/GdP9+/Ew7DELjQ1eN3jiXXXzNwpz83P+/Xne05oQ0wwGIsB3ABjhjRC7gmWVzi1wsYoEqDRg6OoQsUnAdYYIAS4FOwnB4AXjsBA7TE8hr4082c5bPAAKWk+QrWIXJ7No35xiB8CNajBFyKFltae6TyAZMVKZgS8JaR72FxLAFLCTWbMNCrsLwwevfQazhXZ4zy3pSl+J2APxjdXIox5zIp9jWzl9kk1xydpG40dqVELsCpRWtNfYB7g2ykBwRHitkT67jlYqwHhsnaktHtJGAuTlu62NSl2hOtMEgaqY7JorPFNDqNGkgiyH4i8fhy0plbWeTHVpdeYiFbuUynTh/uS0cYo1zKSa0A2psSbsM0A7J47wmsTE3H5umz1OVvAC19OtcSl1+kBLV9Zbo+g+5gbesNrMFbYXKNR6dYji7AqW57kTDBslWnEw48C/HuXfIhXPAXhnrubmbrGZc7/CdwrF2ecL14zYfAuJeriYsL13P+BBgALTvEvEuCOh4AAAAASUVORK5CYII=\"","import React from 'react';\r\nimport './layout.css';\r\nimport map from './map.png';\r\nimport icon from './marker.png';\r\n\r\nexport default class Layout extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      markers:[],\r\n      clientpos: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      isDragging: false\r\n    }\r\n  }\r\n\r\n  handleImgClick = (e) => {\r\n    const markers = this.state.markers.slice();\r\n    markers.push(\r\n      {\r\n        key : markers.length.toString(),\r\n        coordinate : [e.nativeEvent.offsetY - this.props.markerSize.height/2, e.nativeEvent.offsetX - this.props.markerSize.width/2]\r\n      }\r\n    );\r\n    this.setState({\r\n      markers: markers,\r\n      isDragging: false,\r\n    });\r\n  }\r\n\r\n  handleDragStart = (e)=> {\r\n    e.preventDefault();\r\n    this.setState({\r\n      isDragging: true,\r\n      target: e.target.getAttribute('value'),\r\n      clientpos: {\r\n        x: e.clientX,\r\n        y: e.clientY\r\n      }\r\n    });\r\n  }\r\n\r\n  handleDrag = (e) =>{\r\n    if (this.state.isDragging) {\r\n      const markers = this.state.markers.slice();\r\n      const clientpos = this.state.clientpos;\r\n      const targetKey = this.state.target;\r\n      const idx = markers.findIndex((item)=>{\r\n        return item.key=== targetKey;\r\n      });\r\n      const coordinate = markers[idx].coordinate.slice();\r\n      coordinate[0] += e.clientY - clientpos.y;\r\n      coordinate[1] += e.clientX - clientpos.x;\r\n      if (coordinate[0] <= this.state.range.maxY && coordinate[0] >= 0\r\n        && coordinate[1] <= this.state.range.maxX && coordinate[1] >= 0) {\r\n        markers[idx].coordinate = coordinate;\r\n        this.setState({\r\n          markers: markers,\r\n          clientpos: {\r\n            y: e.clientY,\r\n            x: e.clientX\r\n          }\r\n        });\r\n      } else {\r\n        this.setState({\r\n          clientpos: {\r\n            y: e.clientY,\r\n            x: e.clientX,\r\n          },\r\n          isDragging: false,\r\n        });\r\n      }\r\n    };\r\n  }\r\n  \r\n  handleDragEnd = (e) => {\r\n    this.setState({\r\n      isDragging: false,\r\n    });\r\n  }\r\n\r\n  handleImgLoad = ({target:img}) =>{\r\n    this.setState({\r\n      range:{\r\n        maxY: img.offsetHeight - this.props.markerSize.height,\r\n        minY: 0,\r\n        maxX: img.offsetWidth - this.props.markerSize.width,\r\n        minX: 0\r\n      }\r\n    });\r\n  }\r\n\r\n  render(){\r\n    const markers = this.state.markers;\r\n    const pins =  markers.map((marker, idx)=>{\r\n      return (\r\n       <div key={marker.key} className=\"map-marker\"\r\n          style={{\r\n            top: marker.coordinate[0] ,\r\n            left: marker.coordinate[1] ,\r\n            cursor: (this.state.isDragging)?'move': 'pointer',\r\n          }}\r\n          onMouseDown={(e)=>{this.handleDragStart(e);}}\r\n          onMouseUp={(e)=>{this.handleDragEnd(e);}}\r\n        >\r\n          <img alt='pin' value={marker.key} src={icon}/>\r\n       </div>\r\n      );\r\n    })\r\n\r\n    return (\r\n      <>\r\n        <h3 className='title'>React Draggable Component</h3>\r\n        <div className='layout'\r\n          onMouseMove={(e)=>{this.handleDrag(e);}} \r\n        >\r\n          <img src={map} alt='map' onClick={(e)=>{this.handleImgClick(e);}} onLoad={(e)=>{this.handleImgLoad(e)}}/>\r\n          <div>\r\n            {pins}\r\n          </div>\r\n        </div>\r\n        <b>Description:</b>\r\n        <div>1. Click add marker</div>\r\n        <div>2. Drag marker</div>\r\n        <a className=\"home\" href='/'>HOME</a>\r\n      </>\r\n    );\r\n  };\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Layout from './components/layout';\nimport './index.css';\n\nReactDOM.render(<Layout markerSize={{width:30, height:30}} />, document.getElementById('root'));"],"sourceRoot":""}